import { Telegraf } from "telegraf"; import { GoogleGenerativeAI } from "@google/generative-ai"; const bot = new Telegraf("8546121789:AAGrnrtC_nsJF-XwvZg8ZXMbaW7eklkebcU"); const genAI = new GoogleGenerativeAI("AIzaSyCePxAxFCzUmIK5GxxzsErEmvG_ztDBzp8"); const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash-latest" }); bot.on("text", async (ctx) => { console.log("Пришло сообщение:", ctx.message.text); try { const result = await model.generateContent(ctx.message.text); await ctx.reply(result.response.text()); } catch (e) { console.log("Ошибка:", e.message); ctx.reply("Google Gemini всё еще недоступен в твоем регионе. Попробуй включить любой качественный VPN (не WARP) на компьютере и перезапустить бота."); } }); bot.launch().then(() => console.log("--- БОТ ВКЛЮЧЕН (ПОПЫТКА С ГИБКИМ API) ---"));